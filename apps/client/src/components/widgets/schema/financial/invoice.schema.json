{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://moniewave.com/schemas/invoice.json",
  "title": "Invoice Widget",
  "description": "Widget composition for displaying invoice details",
  "type": "object",
  "properties": {
    "type": { "const": "Invoice" },
    "data": {
      "type": "object",
      "required": ["invoice_id", "invoice_number", "amount_due", "currency", "customer"],
      "properties": {
        "invoice_id": { "type": "string" },
        "invoice_number": { "type": "string" },
        "amount_due": { "type": "number" },
        "currency": { "type": "string" },
        "status": { "enum": ["draft", "sent", "viewed", "paid", "overdue"] },
        "customer": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "email": { "type": "string" }
          }
        },
        "due_date": { "type": "string" },
        "hosted_invoice_url": { "type": "string" }
      }
    }
  },
  "required": ["type", "data"],
  "example": {
    "type": "Frame",
    "size": "md",
    "padding": "md",
    "children": [
      {
        "type": "FrameHeader",
        "title": "Invoice",
        "expandable": true
      },
      {
        "type": "Row",
        "align": "between",
        "children": [
          { "type": "Text", "value": "INV-2024-001", "size": "lg", "weight": "semibold" },
          { "type": "Badge", "label": "Sent", "variant": "default" }
        ]
      },
      { "type": "Divider", "spacing": "md" },
      {
        "type": "KeyValueList",
        "gap": "md",
        "dividers": true,
        "items": [
          {
            "type": "KeyValueRow",
            "label": "Customer",
            "value": { "type": "Text", "value": "Acme Corp", "weight": "medium" }
          },
          {
            "type": "KeyValueRow",
            "label": "Amount Due",
            "value": { "type": "Amount", "value": 250000, "currency": "NGN", "size": "md", "weight": "semibold" },
            "emphasis": true
          },
          {
            "type": "KeyValueRow",
            "label": "Due Date",
            "value": { "type": "Text", "value": "2024-12-31", "color": "muted" }
          }
        ]
      },
      { "type": "Divider", "spacing": "md" },
      {
        "type": "ButtonGroup",
        "orientation": "horizontal",
        "gap": "md",
        "buttons": [
          {
            "type": "Button",
            "label": "View Invoice",
            "variant": "default",
            "icon": "ExternalLink",
            "iconPosition": "right"
          }
        ]
      }
    ]
  }
}
